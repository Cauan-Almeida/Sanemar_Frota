<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RelatÃ³rios PDF - GestÃ£o de Frota</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
    </style>
</head>
<body class="p-4 md:p-8">
    <!-- Sidebar -->
    <div class="fixed left-0 top-0 h-full w-64 bg-white shadow-2xl p-6 z-50 hidden lg:block">
        <div class="mb-8">
            <h2 class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
                GestÃ£o de Frota
            </h2>
            <p class="text-gray-500 text-sm">Sanemar Frota</p>
        </div>
        <nav class="space-y-2">
            <a href="/dashboard" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition-all">
                <span>ğŸ“Š</span>
                <span class="font-semibold text-gray-700">Dashboard</span>
            </a>
            <a href="/motoristas" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition-all">
                <span>ğŸ‘¤</span>
                <span class="font-semibold text-gray-700">Motoristas</span>
            </a>
            <a href="/veiculos" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition-all">
                <span>ğŸš—</span>
                <span class="font-semibold text-gray-700">VeÃ­culos</span>
            </a>
            <a href="/relatorios" class="flex items-center gap-3 px-4 py-3 rounded-xl bg-gradient-to-r from-red-500 to-pink-500 text-white">
                <span>ğŸ“„</span>
                <span class="font-semibold">RelatÃ³rios PDF</span>
            </a>
            <a href="/" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition-all">
                <span>ğŸ“</span>
                <span class="font-semibold text-gray-700">LanÃ§amentos</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="lg:ml-64 max-w-7xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-2xl p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-800">ğŸ“„ RelatÃ³rios em PDF</h1>
            <p class="text-gray-600 mt-1">Gere relatÃ³rios personalizados com filtros</p>
        </div>

        <!-- Grid de RelatÃ³rios -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            <!-- 1. Motoristas -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">ğŸ‘¥</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Motoristas</h2>
                        <p class="text-gray-600 text-sm">Lista de motoristas com filtros</p>
                    </div>
                </div>
                <form id="form-motoristas" class="space-y-3">
                    <select id="motorista-status" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-indigo-500 transition-all">
                        <option value="todos">ğŸ“‹ Todos os Motoristas</option>
                        <option value="ativos">âœ… Apenas Ativos</option>
                        <option value="inativos">â­• Apenas Inativos</option>
                    </select>
                    <button type="submit" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF
                    </button>
                </form>
            </div>

            <!-- 2. VeÃ­culos -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">ğŸš—</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">VeÃ­culos</h2>
                        <p class="text-gray-600 text-sm">Lista de veÃ­culos com filtros</p>
                    </div>
                </div>
                <form id="form-veiculos" class="space-y-3">
                    <select id="veiculo-status" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-green-500 transition-all">
                        <option value="todos">ğŸ“‹ Todos os VeÃ­culos</option>
                        <option value="ativos">âœ… Apenas Ativos</option>
                        <option value="inativos">â­• Apenas Inativos</option>
                    </select>
                    <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF
                    </button>
                </form>
            </div>

            <!-- 3. Abastecimentos com Filtros -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">â›½</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Abastecimentos</h2>
                        <p class="text-gray-600 text-sm">Com filtros personalizados</p>
                    </div>
                </div>
                <form id="form-abastecimentos" class="space-y-3">
                    <input type="text" id="abast-veiculo" placeholder="VeÃ­culo (ex: ABC1234)" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-orange-500 transition-all uppercase">
                    <input type="text" id="abast-motorista" placeholder="Motorista" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-orange-500 transition-all">
                    <select id="abast-tipo-combustivel" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-orange-500 transition-all">
                        <option value="">Todos os CombustÃ­veis</option>
                        <option value="gasolina">Gasolina</option>
                        <option value="etanol">Etanol</option>
                        <option value="diesel">Diesel</option>
                    </select>
                    <input type="date" id="abast-data-inicio" placeholder="Data InÃ­cio" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-orange-500 transition-all">
                    <input type="date" id="abast-data-fim" placeholder="Data Fim" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-orange-500 transition-all">
                    <button type="submit" class="w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF Filtrado
                    </button>
                </form>
            </div>

            <!-- 4. SaÃ­das com Filtros -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">ğŸš™</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">SaÃ­das/Viagens</h2>
                        <p class="text-gray-600 text-sm">Com filtros personalizados</p>
                    </div>
                </div>
                <form id="form-saidas" class="space-y-3">
                    <input type="text" id="saidas-veiculo" placeholder="VeÃ­culo (ex: ABC1234)" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all uppercase">
                    <input type="text" id="saidas-motorista" placeholder="Motorista" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                    <input type="text" id="saidas-solicitante" placeholder="Solicitante" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                    <select id="saidas-status" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                        <option value="">Todos os Status</option>
                        <option value="em_curso">Em Curso</option>
                        <option value="finalizada">Finalizada</option>
                    </select>
                    <select id="saidas-categoria" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                        <option value="">Todas as Categorias</option>
                        <option value="Base ETE de AraÃ§atiba">Base ETE de AraÃ§atiba</option>
                        <option value="Vans">Vans</option>
                    </select>
                    <select id="saidas-aprovacao" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                        <option value="">Status AprovaÃ§Ã£o</option>
                        <option value="aprovado">âœ… Aprovados</option>
                        <option value="falta_aprovacao">â³ Falta AprovaÃ§Ã£o</option>
                        <option value="sem_direcionamento">âŒ Sem Direcionamento</option>
                    </select>
                    <select id="saidas-direcionamento" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                        <option value="">Status Direcionamento</option>
                        <option value="direcionado">âœ… Direcionado</option>
                        <option value="nao_direcionado">â³ Ainda NÃ£o Direcionado</option>
                    </select>
                    <input type="date" id="saidas-data-inicio" placeholder="Data InÃ­cio" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                    <input type="date" id="saidas-data-fim" placeholder="Data Fim" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 transition-all">
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF Filtrado
                    </button>
                </form>
            </div>

            <!-- 5. RevisÃµes e ManutenÃ§Ãµes -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">ğŸ”§</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">RevisÃµes/ManutenÃ§Ãµes</h2>
                        <p class="text-gray-600 text-sm">HistÃ³rico de manutenÃ§Ãµes</p>
                    </div>
                </div>
                <form id="form-revisoes" class="space-y-3">
                    <input type="text" id="revisoes-veiculo" placeholder="VeÃ­culo (ex: ABC1234)" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-purple-500 transition-all uppercase">
                    <select id="revisoes-tipo" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-purple-500 transition-all">
                        <option value="">Todos os Tipos</option>
                        <option value="pneu">ğŸš— Pneus</option>
                        <option value="revisao">ğŸ› ï¸ RevisÃ£o</option>
                        <option value="mecanica">âš™ï¸ MecÃ¢nica</option>
                        <option value="lataria">ğŸ”¨ Lataria</option>
                    </select>
                    <select id="revisoes-status" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-purple-500 transition-all">
                        <option value="">Todos os Status</option>
                        <option value="pendente">â³ Pendentes</option>
                        <option value="andamento">ğŸ”„ Em Andamento</option>
                        <option value="resolvido">âœ… Resolvidos</option>
                    </select>
                    <input type="date" id="revisoes-data-inicio" placeholder="Data InÃ­cio" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-purple-500 transition-all">
                    <input type="date" id="revisoes-data-fim" placeholder="Data Fim" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-purple-500 transition-all">
                    <button type="submit" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF Filtrado
                    </button>
                </form>
            </div>

            <!-- 6. Km e Multas -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-4xl">ğŸ“Š</span>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Km e Multas</h2>
                        <p class="text-gray-600 text-sm">RelatÃ³rio de quilometragem e multas</p>
                    </div>
                </div>
                <form id="form-km-multas" class="space-y-3">
                    <input type="text" id="km-veiculo" placeholder="VeÃ­culo (ex: ABC1234)" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-red-500 transition-all uppercase">
                    <select id="km-tipo" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-red-500 transition-all">
                        <option value="">Todos</option>
                        <option value="km">ğŸ“ Apenas Km</option>
                        <option value="multas">ğŸš¨ Apenas Multas</option>
                    </select>
                    <input type="date" id="km-data-inicio" placeholder="Data InÃ­cio" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-red-500 transition-all">
                    <input type="date" id="km-data-fim" placeholder="Data Fim" class="w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-red-500 transition-all">
                    <button type="submit" class="w-full bg-gradient-to-r from-red-500 to-rose-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:scale-105 transition-all">
                        ğŸ“¥ Gerar PDF Filtrado
                    </button>
                </form>
            </div>

        </div>
    </div>

    <script>
        // Uppercase automÃ¡tico nos campos de veÃ­culo
        document.getElementById('abast-veiculo').addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
        });
        document.getElementById('saidas-veiculo').addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
        });
        document.getElementById('revisoes-veiculo').addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
        });
        document.getElementById('km-veiculo').addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
        });

        // Form Motoristas
        document.getElementById('form-motoristas').addEventListener('submit', (e) => {
            e.preventDefault();
            const status = document.getElementById('motorista-status').value;
            
            let url = '/pdf/motoristas';
            if (status !== 'todos') {
                url += `?status=${status}`;
            }
            
            window.open(url, '_blank');
        });

        // Form VeÃ­culos
        document.getElementById('form-veiculos').addEventListener('submit', (e) => {
            e.preventDefault();
            const status = document.getElementById('veiculo-status').value;
            
            let url = '/pdf/veiculos';
            if (status !== 'todos') {
                url += `?status=${status}`;
            }
            
            window.open(url, '_blank');
        });

        // Form Abastecimentos
        document.getElementById('form-abastecimentos').addEventListener('submit', (e) => {
            e.preventDefault();
            const veiculo = document.getElementById('abast-veiculo').value.trim().toUpperCase();
            const motorista = document.getElementById('abast-motorista').value.trim();
            const tipoCombustivel = document.getElementById('abast-tipo-combustivel').value;
            const dataInicio = document.getElementById('abast-data-inicio').value;
            const dataFim = document.getElementById('abast-data-fim').value;
            
            let url = '/pdf/abastecimentos?';
            const params = [];
            
            if (veiculo) params.push(`veiculo=${encodeURIComponent(veiculo)}`);
            if (motorista) params.push(`motorista=${encodeURIComponent(motorista)}`);
            if (tipoCombustivel) params.push(`tipo_combustivel=${encodeURIComponent(tipoCombustivel)}`);
            if (dataInicio) params.push(`data_inicio=${dataInicio}T00:00:00`);
            if (dataFim) params.push(`data_fim=${dataFim}T23:59:59`);
            
            url += params.join('&');
            window.open(url, '_blank');
        });

        // Form SaÃ­das
        document.getElementById('form-saidas').addEventListener('submit', (e) => {
            e.preventDefault();
            const veiculo = document.getElementById('saidas-veiculo').value.trim().toUpperCase();
            const motorista = document.getElementById('saidas-motorista').value.trim();
            const solicitante = document.getElementById('saidas-solicitante').value.trim();
            const status = document.getElementById('saidas-status').value;
            const categoria = document.getElementById('saidas-categoria').value;
            const aprovacao = document.getElementById('saidas-aprovacao').value;
            const direcionamento = document.getElementById('saidas-direcionamento').value;
            const dataInicio = document.getElementById('saidas-data-inicio').value;
            const dataFim = document.getElementById('saidas-data-fim').value;
            
            let url = '/pdf/saidas?';
            const params = [];
            
            if (veiculo) params.push(`veiculo=${encodeURIComponent(veiculo)}`);
            if (motorista) params.push(`motorista=${encodeURIComponent(motorista)}`);
            if (solicitante) params.push(`solicitante=${encodeURIComponent(solicitante)}`);
            if (status) params.push(`status=${status}`);
            if (categoria) params.push(`categoria=${encodeURIComponent(categoria)}`);
            if (aprovacao) params.push(`status_aprovacao=${aprovacao}`);
            if (direcionamento) params.push(`status_direcionamento=${direcionamento}`);
            if (dataInicio) params.push(`data_inicio=${dataInicio}T00:00:00`);
            if (dataFim) params.push(`data_fim=${dataFim}T23:59:59`);
            
            url += params.join('&');
            window.open(url, '_blank');
        });

        // Form RevisÃµes
        document.getElementById('form-revisoes').addEventListener('submit', (e) => {
            e.preventDefault();
            const veiculo = document.getElementById('revisoes-veiculo').value.trim().toUpperCase();
            const tipo = document.getElementById('revisoes-tipo').value;
            const status = document.getElementById('revisoes-status').value;
            const dataInicio = document.getElementById('revisoes-data-inicio').value;
            const dataFim = document.getElementById('revisoes-data-fim').value;
            
            let url = '/pdf/revisoes?';
            const params = [];
            
            if (veiculo) params.push(`veiculo=${encodeURIComponent(veiculo)}`);
            if (tipo) params.push(`tipo=${encodeURIComponent(tipo)}`);
            if (status) params.push(`status=${status}`);
            if (dataInicio) params.push(`data_inicio=${dataInicio}T00:00:00`);
            if (dataFim) params.push(`data_fim=${dataFim}T23:59:59`);
            
            url += params.join('&');
            window.open(url, '_blank');
        });

        // Form Km e Multas
        document.getElementById('form-km-multas').addEventListener('submit', (e) => {
            e.preventDefault();
            const veiculo = document.getElementById('km-veiculo').value.trim().toUpperCase();
            const tipo = document.getElementById('km-tipo').value;
            const dataInicio = document.getElementById('km-data-inicio').value;
            const dataFim = document.getElementById('km-data-fim').value;
            
            let url = '/pdf/km-multas?';
            const params = [];
            
            if (veiculo) params.push(`veiculo=${encodeURIComponent(veiculo)}`);
            if (tipo) params.push(`tipo=${tipo}`);
            if (dataInicio) params.push(`data_inicio=${dataInicio}T00:00:00`);
            if (dataFim) params.push(`data_fim=${dataFim}T23:59:59`);
            
            url += params.join('&');
            window.open(url, '_blank');
        });
    </script>
</body>
</html>
